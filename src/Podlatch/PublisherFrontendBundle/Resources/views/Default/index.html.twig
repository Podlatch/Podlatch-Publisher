{% extends "::base.html.twig" %}

{% block content %}

    <section class="hero is-primary">
        <div class="hero-body">
            <div class="container">
                <h1 class="title">
                    {{ podcast.getTitle() }}
                </h1>
                <h2 class="subtitle">
                    Hero subtitle
                </h2>
            </div>
        </div>
    </section>

    <main class="section">

        <div class="columns">
            <div class="column is-one-quarter">
                <div id="podlatch-player"></div>
                <script class="podlove-subscribe-button" src="./subscribe-button/javascripts/app.js" data-language="de" data-size="big" data-json-data="podcastData"></script>
            </div> <!-- end narrow column-->
            <div class="column is-two-quarter level">

                <h2 class="subtitle is-2 level-item">About</h2>
                <p class="level-item">
                    {{ podcast.getDescription() }}
                </p>

                <h2 class="subtitle is-2 level-item">Episodes</h2>
                <div class="timeline is-centered">
                    <header class="timeline-header">
                        <span class="tag is-medium is-primary">Start</span>
                    </header>
                    {% for podcastEpisode in podcast.getEpisodes() %}
                        <div class="timeline-item">
                            <a class="timeline-marker is-image is-32x32" onclick="$('#podlatch-player').html(''); podlovePlayer('#podlatch-player', {
                                    title: '{{ podcastEpisode.getTitle() }}',
                                    subtitle: '{{ podcastEpisode.getDescription() }}',
                                    summary: '{{ podcastEpisode.getSummary() }}',
                                    publicationDate: '2016-02-11T03:13:55+00:00',
                                    poster: '{{ podcastEpisode.getImageFile() }}',
                                    duration: '04:15:32',
                                    audio: [{
                                    url: 'http://freakshow.fm/podlove/file/4467/s/download/c/select-show/fs171-invasion.mp3',
                                    mimeType: 'audio/mp3',
                                    size: 14665000,
                                    title: 'Audio MP3'
                                    }],
                                    reference: {
                                    config: '//podlove-player.surge.sh/fixtures/example.json',
                                    share: '//podlove-player.surge.sh/share'
                                    },
                                    theme: {
                                    main: '#00D7B5'
                                    }
                                    });">
                                <i class="fa fa-plus"></i>
                            </a>
                            <div class="timeline-content">
                                <p class="heading">{{ podcastEpisode.getTitle() }}</p>
                                <p class="timeline-content-date">{{ podcastEpisode.getReleasedAt()|date('d.m.Y H:i') }}</p>
                                <p>{{ podcastEpisode.getDescription() }}</p>
                            </div>
                        </div>
                    {% endfor %}
                    <div class="timeline-header">
                        <span class="tag is-medium is-primary">End</span>
                    </div>
                </div> <!-- end timeline-->
            </div><!-- end left column-->
        </div> <!-- end columns-->
        </div> <!-- end columns-->

    </main>



    <script type="text/javascript" src="{{ asset('/js/podlove-embed.js') }}"></script>
    <script>
        podlovePlayer('#podlatch-player', {
            title: 'FS171 Invasion!',
            subtitle: 'LAN Planung - Kalender - Bingo - Wikipedia - Akkukalibration - Alte iPads und iPods - Find My Friends - iPhone Music Player - Apple Watch - Kommandozeile - Star Wars - Dante - Internet of Things Security - VPN',
            summary: 'Wir haben eine wie wir finden abwechslungsreiche Sendung produziert, die wir Euch wie immer mit Freude bereitstellen. Während die Live-Hörer Freak-Show-Bingo spielen, greifen wir das Wikipedia-Thema der letzten Sendung auf und liefern auch noch weitere Aspekte des optimalen Star-Wars-Medienkonsums frei Haus. Dazu viel Nerderei rund um die Kommandozeile, eine Einschätzung der Perspektive der Apple Watch, ein Rant über die mangelhafte Security  im Internet of Things (and Buildings) und allerlei anderer Kram.  Roddi setzt dieses Mal aus, sonst Vollbesetzung.',
            publicationDate: '2016-02-11T03:13:55+00:00',
            poster: 'https://freakshow.fm/wp-content/cache/podlove/04/662a9d4edcf77ea2abe3c74681f509/freak-show_200x200.jpg',
            duration: '04:15:32',
            audio: [{
                url: 'http://freakshow.fm/podlove/file/4467/s/download/c/select-show/fs171-invasion.mp3',
                mimeType: 'audio/mp3',
                size: 14665000,
                title: 'Audio MP3'
            }],
            reference: {
                config: '//podlove-player.surge.sh/fixtures/example.json',
                share: '//podlove-player.surge.sh/share'
            },
            theme: {
                main: '#00D7B5'
            }
        }).then(function (store) {
            store.dispatch(store.actions.play())
        });
    </script>

    <script>
        window.podcastData = {
            "title": "Newz of the World",
            "subtitle": "Tim and Mark talk about the Newz™",
            "description": "Newz of the World is a weekly show about world news. Mark Fonseca Rendeiro and Tim Pritlove come together to present interesting reports and discuss their aspects and possible consequences. Newz of the world wants to be an alternative window to the common media flow and cherry picks interesting developments for you.",
            "cover": "http://meta.metaebene.me/media/newz/newz-logo-600x600.jpg",
            "feeds": [
                {
                    "type": "audio",
                    "format": "mp3",
                    "url": "http://newz-of-the-world.com/feed/mp3",
                    "variant": "high",
                    "directory-url-itunes": "https://itunes.apple.com/de/podcast/newz-of-the-world/id492588543"

                }
            ]
        }
    </script>


{% endblock content%}